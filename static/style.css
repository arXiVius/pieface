/*
 * MODE HEAVY: Swiss/International Typographic Style for PieFace
 * Visual Language: High Contrast, Flat Design, Editorial Structure.
 */

/* --- Variables & Base Reset --- */
:root {
    /* 1. Visual Language & Aesthetics: Neutral Chromatic Palette */
    --bg-color: #FAF9F6; /* Off-White/Light Beige background */
    --card-color: #ffffff; /* White card background */
    --border-color: #BBBBBB; /* Restrained gray for subtle borders/rules */
    --text-color: #000000; /* High-contrast black for primary typography */
    --subtle-text-color: #666666; /* Medium-gray for secondary elements/microtypography */
    --accent-color: #000000; /* Primary button/link color: Black */
    --error-color: #b71c1c; /* High-contrast error red */
    --success-color: #388e3c; /* High-contrast success green */
    
    /* 2. Typography: Sans-serif (Inter is maintained) */
    --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;
    
    /* 3. Layout: Consistent Spacing Scale (8px base) */
    --spacing-xs: 4px;
    --spacing-sm: 8px;
    --spacing-md: 16px;
    --spacing-lg: 24px;
    --spacing-xl: 32px;
}

/* Enforce flat design principles: No shadows, no rounded corners */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    border-radius: 0 !important; 
}

/* --- Base Body Style --- */
body {
    background-color: var(--bg-color);
    color: var(--text-color);
    font-family: var(--font-sans);
    margin: 0;
    padding: var(--spacing-xl); /* Generous padding */
    line-height: 1.5;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
}

/* ==================================== */
/* --- Dashboard Layout (dashboard.html) --- */
/* ==================================== */

.dashboard-container {
    display: flex;
    flex-direction: column;
    gap: calc(var(--spacing-xl) * 1.5); /* High negative space */
    max-width: 1200px; /* Use large fixed width */
    margin: 0 auto;
}

.dashboard-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-end; /* Align to the bottom of the header block */
    /* Use a strong rule for separation */
    border-bottom: 2px solid var(--text-color); 
    padding-bottom: var(--spacing-md);
    margin-bottom: var(--spacing-lg);
}

.dashboard-header h2 {
    margin: 0;
    /* Strong typographic hierarchy: Oversized sans-serif heading */
    font-size: 2.8rem; 
    font-weight: 900; /* Extra bold */
    text-transform: uppercase;
    line-height: 1;
}

.dashboard-header a {
    /* Minimalist Logout link */
    color: var(--text-color); 
    text-decoration: none;
    font-size: 0.9rem;
    font-weight: 700;
    transition: opacity 0.2s ease;
    border-bottom: 2px solid transparent;
}

.dashboard-header a:hover {
    opacity: 0.7; /* Subtle hover feedback */
    border-bottom-color: var(--text-color);
}

/* Base Grid for the Main Content */
.main-grid {
    /* Modular grid system: 1fr 1.5fr (approximating 12 column split) */
    display: grid; 
    grid-template-columns: 1fr 1.5fr;
    gap: var(--spacing-xl); /* Consistent gutters */
    transition: grid-template-columns 0.4s ease;
}

.card {
    /* Flat Design Enforced */
    background-color: var(--card-color);
    border: 1px solid var(--border-color);
    padding: var(--spacing-xl); /* Generous padding */
    min-height: fit-content;
    box-shadow: none;
}

.card h3 {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 0;
    /* Strong typographic hierarchy */
    font-weight: 700; 
    font-size: 1.4rem;
    /* Thin rule for section delineation */
    border-bottom: 1px solid var(--border-color); 
    padding-bottom: var(--spacing-md);
    margin-bottom: var(--spacing-lg);
    text-transform: uppercase;
}

/* 4. Components & Controls: Minimalist, low-contrast */
.btn-icon {
    background: none;
    border: none;
    color: var(--text-color);
    cursor: pointer;
    padding: var(--spacing-sm);
    transition: opacity 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

.btn-icon:hover {
    opacity: 0.7; /* Subtle interaction feedback */
}

.btn-icon svg {
    /* Icons should follow a line-based geometry */
    width: 20px;
    height: 20px;
    stroke-width: 2; /* Maintained the line-based look */
}

.camera-feed img {
    width: 100%;
    /* High contrast border for the feed */
    border: 1px solid var(--text-color); 
    aspect-ratio: 4 / 3;
    object-fit: cover;
    background-color: var(--text-color);
}

/* --- Live Feed Expansion Styles (MODE HEAVY adapts to these functional states) --- */
.main-grid.expanded-grid {
    grid-template-columns: 1fr;
}
/* ... (Expansion CSS logic remains the same for functionality, just uses new variables) ... */

/* --- Primary Button (High-Contrast Block) --- */
.btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    padding: var(--spacing-lg) var(--spacing-xl);
    margin-top: var(--spacing-lg);
    /* High contrast black button */
    background-color: var(--accent-color); 
    color: var(--card-color); /* Off-white text on black button */
    border: 1px solid var(--accent-color);
    font-size: 1rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1px;
    cursor: pointer;
    transition: background-color 0.2s ease;
}

.btn:hover:not(:disabled) {
    background-color: #333333; /* Purely color-contrast driven feedback */
}

.btn:disabled {
    background-color: var(--subtle-text-color);
    border-color: var(--subtle-text-color);
    opacity: 1;
    cursor: not-allowed;
    color: var(--card-color);
}

/* Spinner adjusted for light text on dark button */
.btn .spinner {
    display: none;
    width: 18px;
    height: 18px;
    border: 2px solid rgba(255, 255, 255, 0.3); 
    border-top-color: var(--card-color);
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin-right: var(--spacing-sm);
}
/* ... (Spinner and Loading state CSS logic remains the same) ... */

/* --- Flash Messages (Typographic Alerts) --- */
.flash {
    padding: var(--spacing-md);
    margin-top: var(--spacing-md);
    border-radius: 0;
    text-align: left;
    font-size: 0.9rem;
    font-weight: 500;
    border-left: 5px solid; /* Use a strong line for visual impact */
    background-color: var(--card-color);
    display: none;
}
/* ... (Flash message color/type classes remain the same) ... */

/* --- Table Styling (Editorial Grid) --- */

.table-container {
    overflow-x: auto;
    max-height: 50vh; 
    overflow-y: auto;
    border: 1px solid var(--border-color); /* Light box for the entire history block */
    background-color: var(--card-color);
}

table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.95rem;
}

th, td {
    padding: var(--spacing-md);
    text-align: left;
    border-bottom: 1px solid var(--border-color); /* Thin, low-contrast rules */
}

thead th {
    /* Microtypography in low-emphasis gray */
    color: var(--subtle-text-color); 
    font-weight: 500;
    text-transform: uppercase;
    font-size: 0.75rem;
    letter-spacing: 0.8px;
    padding-top: var(--spacing-md);
    padding-bottom: var(--spacing-md);
    border-bottom: 2px solid var(--text-color); /* Stronger line for header separation */
    position: sticky; /* Keep header visible */
    top: 0;
    background-color: var(--card-color);
}

/* --- Pagination Controls Styling --- */
.pagination-controls {
    display: flex;
    justify-content: flex-end; 
    align-items: center;
    gap: var(--spacing-xs);
    margin-top: var(--spacing-lg);
    padding-top: var(--spacing-md);
    border-top: 1px solid var(--border-color);
}

.btn-pagination {
    background-color: transparent; 
    color: var(--text-color);
    border: 1px solid var(--border-color); /* Subtle border for definition */
    padding: var(--spacing-xs) var(--spacing-sm);
    text-decoration: none;
    font-size: 0.9rem;
    font-weight: 500;
}

.btn-pagination:hover:not(.current) {
    background-color: #EFEFEF;
    border-color: var(--text-color);
}

.btn-pagination.current {
    background-color: var(--accent-color);
    color: var(--card-color);
    border-color: var(--accent-color);
    pointer-events: none;
}
/* ... (Ellipsis styling remains the same) ... */

/* ==================================== */
/* --- Auth Form Styling (login.html, register.html) --- */
/* ==================================== */

.content-card {
    max-width: 440px;
    margin: 80px auto; 
    background-color: var(--card-color);
    border: 1px solid var(--text-color); /* High contrast border for auth container */
    padding: var(--spacing-xl);
}

.card-header {
    border-bottom: 1px solid var(--text-color);
    padding-bottom: var(--spacing-md);
    margin-bottom: var(--spacing-xl);
    text-align: left;
}

.card-header h2 {
    margin: 0;
    font-size: 2rem;
    font-weight: 900;
    text-transform: uppercase;
}

.form-group {
    margin-bottom: var(--spacing-lg);
}

.form-group label {
    display: block;
    margin-bottom: var(--spacing-xs);
    font-size: 0.8rem;
    font-weight: 700;
    color: var(--text-color);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

/* Input Fields (Flat, High Contrast) */
.form-group input[type="text"],
.form-group input[type="password"],
.custom-file-upload {
    width: 100%;
    padding: var(--spacing-md);
    background-color: var(--card-color); 
    border: 1px solid var(--text-color); /* High contrast border */
    color: var(--text-color);
    font-size: 1rem;
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

.form-group input[type="text"]:focus,
.form-group input[type="password"]:focus,
.hidden-file-input:focus + .custom-file-upload {
    border-color: var(--success-color); 
    outline: none;
    box-shadow: inset 0 0 0 1px var(--success-color); /* Inner shadow for subtle focus */
}

/* Card Footer for links (Minimalist) */
.card-footer {
    padding-top: var(--spacing-lg);
    margin-top: var(--spacing-xl);
    border-top: 1px solid var(--border-color);
    text-align: left;
    font-size: 0.9rem;
}

.card-footer p {
    margin: 0;
    color: var(--subtle-text-color);
}

.card-footer a {
    color: var(--text-color); 
    text-decoration: none;
    font-weight: 700;
    border-bottom: 1px solid var(--text-color);
    transition: opacity 0.2s ease;
}

.card-footer a:hover {
    opacity: 0.7;
}

/* --- Custom File Input Styling Adjustments --- */
.custom-file-upload {
    text-align: left;
    font-weight: 500;
}

#file-name {
    color: var(--subtle-text-color);
}

/* --- Responsive layout (Ensuring fluid grids) --- */
@media (max-width: 900px) {
    .main-grid {
        grid-template-columns: 1fr;
    }
    .dashboard-header h2 {
        font-size: 2rem;
    }
    body {
        padding: var(--spacing-lg);
    }
    .content-card {
        margin: var(--spacing-xl) auto;
        padding: var(--spacing-lg);
    }
}